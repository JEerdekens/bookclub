{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Routes,Route,useLocation}from\"react-router-dom\";import{auth}from\"../firebase\";import Navbar from\"./Navbar\";import PublicLanding from\"../pages/PublicLanding\";import PrivateHome from\"../pages/PrivateHome\";import BookList from\"../pages/BookList\";import BookDetails from\"../pages/BookDetails\";import AddBook from\"../pages/AddBook\";import Profile from\"../pages/Profile\";import ChooseUsername from\"../pages/ChooseUsername\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function AppWrapper(){const[user,setUser]=useState(null);const[authChecked,setAuthChecked]=useState(false);const location=useLocation();useEffect(()=>{const unsubscribe=auth.onAuthStateChanged(currentUser=>{setUser(currentUser);setAuthChecked(true);});return()=>unsubscribe();},[]);const showNavbar=user&&location.pathname!==\"/\";if(!authChecked){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:\"Loading...\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[showNavbar&&/*#__PURE__*/_jsx(Navbar,{user:user}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(PublicLanding,{})}),/*#__PURE__*/_jsx(Route,{path:\"/choose-username\",element:/*#__PURE__*/_jsx(ChooseUsername,{})}),user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(PrivateHome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/books\",element:/*#__PURE__*/_jsx(BookList,{})}),/*#__PURE__*/_jsx(Route,{path:\"/books/:id\",element:/*#__PURE__*/_jsx(BookDetails,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add\",element:/*#__PURE__*/_jsx(AddBook,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{})})]})]})]});}export default AppWrapper;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","useLocation","auth","Navbar","PublicLanding","PrivateHome","BookList","BookDetails","AddBook","Profile","ChooseUsername","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AppWrapper","user","setUser","authChecked","setAuthChecked","location","unsubscribe","onAuthStateChanged","currentUser","showNavbar","pathname","className","children","path","element"],"sources":["/Users/julineeerdekens/Desktop/bookclub/src/components/AppWrapper.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Routes, Route, useLocation } from \"react-router-dom\";\nimport { auth } from \"../firebase\";\n\nimport Navbar from \"./Navbar\";\nimport PublicLanding from \"../pages/PublicLanding\";\nimport PrivateHome from \"../pages/PrivateHome\";\nimport BookList from \"../pages/BookList\";\nimport BookDetails from \"../pages/BookDetails\";\nimport AddBook from \"../pages/AddBook\";\nimport Profile from \"../pages/Profile\";\nimport ChooseUsername from \"../pages/ChooseUsername\";\n\nfunction AppWrapper() {\n  const [user, setUser] = useState(null);\n  const [authChecked, setAuthChecked] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((currentUser) => {\n      setUser(currentUser);\n      setAuthChecked(true);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const showNavbar = user && location.pathname !== \"/\";\n\n  if (!authChecked) {\n    return <div className=\"text-center mt-5\">Loading...</div>;\n  }\n\n  return (\n    <>\n      {showNavbar && <Navbar user={user} />}\n\n      <Routes>\n        <Route path=\"/\" element={<PublicLanding />} />\n        <Route path=\"/choose-username\" element={<ChooseUsername />} />\n        {user && (\n          <>\n            <Route path=\"/home\" element={<PrivateHome />} />\n            <Route path=\"/books\" element={<BookList />} />\n            <Route path=\"/books/:id\" element={<BookDetails />} />\n            <Route path=\"/add\" element={<AddBook />} />\n            <Route path=\"/profile\" element={<Profile />} />\n          </>\n        )}\n      </Routes>\n    </>\n  );\n}\n\nexport default AppWrapper;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}